<Window x:Class="NetworkService.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
       xmlns:local="clr-namespace:NetworkService"
         xmlns:views="clr-namespace:NetworkService.Views"
      xmlns:viewModel="clr-namespace:NetworkService.ViewModel"

        mc:Ignorable="d"
        Height="800" Width="1200"
        WindowState="Normal"
        ResizeMode="CanResize"
        WindowStartupLocation="CenterScreen"
        Name="MainWindowRef">

    <!-- ViewModel -->
    <Window.DataContext>
        <viewModel:MainWindowViewModel/>
    </Window.DataContext>

    <!-- Resource templates -->
    <Window.Resources>
        <DataTemplate DataType="{x:Type viewModel:NetworkEntitiesViewModel}">
            <views:NetworkEntitiesView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type viewModel:NetworkDisplayViewModel}">
            <views:NetworkDisplayView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type viewModel:MeasurementGraphViewModel}">
            <views:MeasurementGraphView/>
        </DataTemplate> 

        <!-- Stilovi -->
        <Style TargetType="MenuItem">
            <Setter Property="Foreground" Value="Brown"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Background" Value="LightBlue"/>
            <Setter Property="BorderBrush" Value="Brown"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="2"/>
        </Style>

        <Style TargetType="Menu">
            <Setter Property="Background" Value="white"/>
        </Style>

        <!-- Dodat je stil za dugme za zatvaranje -->
        <Style x:Key="CloseBtnStyle" TargetType="Button">
            <Setter Property="Background" Value="Brown"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Content" Value="X"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <!-- Ctrl+Tab navigacija -->
    <Window.InputBindings>
        <KeyBinding Command="{Binding ChangeCommand}" Modifiers="Ctrl" Key="Tab"/>
    </Window.InputBindings>

    <Border>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Gornji bar sa menijem i exit dugmetom -->
            <DockPanel Grid.Row="0" LastChildFill="True" Margin="10,10,10,0">
                <!-- Menu levo -->
                <Menu DockPanel.Dock="Left">
                    <MenuItem Header="Network Entities"
                              Command="{Binding NavCommand}" CommandParameter="NetEnt"/>
                    <MenuItem Header="Network Display"
                              Command="{Binding NavCommand}" CommandParameter="NetDis"/>
                    <MenuItem Header="Measurement Graph"
                              Command="{Binding NavCommand}" CommandParameter="MesGraph"/>
                </Menu>

            </DockPanel>

            <!-- Glavni sadržaj -->
            <Grid Grid.Row="1" Margin="10">
                <ContentControl Content="{Binding CurrentViewModel}" />
            </Grid>
        </Grid>
    </Border>
</Window>